script_name("Wipe Ghetto")
script_author("castle")
script_properties('work-in-pause')

require "lib.sampfuncs"
require "lib.moonloader"

local positionTeleport = {
	{1891.9013671875, -1016.7644042969, 36.118343353271, 7}, -- ballas
	{2118.228515625, -996.66717529297, 57.203102111816, 7}, -- ballas
	{2244.3920898438, -1006.3645019531, 69.552185058594, 7}, -- ballas
	{2241.9079589844, -1172.2985839844, 33.53125, 7}, -- ballas
	{2148.8383789063, -1182.3599853516, 23.8203125, 7}, -- ballas
	{2308.6447753906, -1224.9528808594, 24.016439437866, 7}, -- ballas
	{2013.3531494141, -1201.4498291016, 20.0234375, 7}, -- ballas
	{1918.7581787109, -1318.5451660156, 16.286855697632, 7}, -- ballas
	{2004.9105224609, -1328.3125, 24.015508651733, 7}, -- ballas
	{1909.9630126953, -1408.6999511719, 13.5703125, 7}, -- ballas 10
	{2002.8763427734, -1365.8625488281, 22.792821884155, 7}, -- ballas
	{2004.4981689453, -1441.8101806641, 13.562890052795, 7}, -- ballas
	{1909.4215087891, -1517.9007568359, 3.2666053771973, 7}, -- ballas
	{2028.6066894531, -1535.3715820313, 4.0916485786438, 7}, -- ballas
	{2103.052734375, -1326.1612548828, 30.609870910645, 7}, -- ballas 15
	{2127.8259277344, -1273.4992675781, 30.142011642456, 7}, -- ballas
	{2229.6811523438, -1247.3854980469, 30.767578125, 7}, -- ballas
	{2193.7739257813, -1327.1700439453, 28.772453308105, 7}, -- ballas
	{2240.6030273438, -1431.5582275391, 24.917011260986, 7}, -- ballas
	{2176.7456054688, -1435.828125, 25.5390625, 7}, -- ballas
	{2315.9895019531, -980.05212402344, 63.713703155518, 8}, -- vagos
	{2318.8459472656, -1078.3660888672, 49.238124847412, 8}, -- vagos
	{2426.345703125, -1087.4725341797, 41.516426086426, 8}, -- vagos
	{2530.4184570313, -1005.6621704102, 73.133460998535, 8}, -- vagos
	{2599.9858398438, -1095.9290771484, 69.218589782715, 8}, -- vagos
	{2670.2426757813, -999.48986816406, 85.874633789063, 8}, -- vagos
	{2672.6828613281, -1083.4544677734, 69.14771270752, 8}, -- vagos
	{2767.4030761719, -1113.7921142578, 49.977375030518, 8}, -- vagos
	{2775.1965332031, -1044.603515625, 39.289695739746, 8}, -- vagos
	{2670.3115234375, -1185.6168212891, 68.553573608398, 8},-- vagos 10
	{2579.6787109375, -1186.1707763672, 61.6875, 8}, -- vagos
	{2534.0959472656, -1179.8668212891, 58.155418395996, 8},  -- vagos
	{2410.6157226563, -1181.5277099609, 31.731912612915, 8}, -- vagos
	{2922.1484375, -1306.9770507813, 10.997852325439, 8}, -- vagos
	{2919.8803710938, -1419.3526611328, 10.875, 8}, -- vagos 15
	{2782.62109375, -1402.9309082031, 24.745338439941, 8}, -- vagos
	{2760.6918945313, -1328.8155517578, 71.5703125, 8}, -- vagos 
	{2694.6259765625, -1447.8208007813, 42.911430358887, 8}, -- vagos 
	{2665.1604003906, -1333.7147216797, 48.728103637695, 8}, -- vagos 
	{2613.2951660156, -1277.4138183594, 81.14811706543, 8}, -- vagos 20
	{2825.7219238281, -2018.2170410156, 10.9375, 9}, -- rifa 
	{2735.5756835938, -1950.6384277344, 20.485746383667, 9}, -- rifa 
	{2833.7473144531, -1866.9942626953, 11.097890853882, 9}, -- rifa 
	{2899.7014160156, -1630.7545166016, 11.046875, 9}, -- rifa 
	{2800.7939453125, -1623.3862304688, 28.5625, 9}, -- rifa 
	{2677.2253417969, -1555.1711425781, 21.982442855835, 9}, -- rifa 
	{2672.7648925781, -1626.9462890625, 16.48032951355, 9}, -- rifa 
	{2598.9328613281, -1868.9488525391, 3.859375, 9}, -- rifa 
	{2591.8630371094, -1837.8481445313, 3.5454142093658, 9}, -- rifa 
	{2652.6311035156, -1911.0256347656, 13.197590827942, 9}, -- rifa  10
	{2651.9294433594, -1961.5207519531, 13.546875, 9}, -- rifa 
	{2533.5554199219, -1962.8842773438, 13.539093017578, 9}, -- rifa 
	{2463.8994140625, -1913.4163818359, 17.55012512207, 9}, -- rifa 
	{2464.0209960938, -1807.4001464844, 17.26051902771, 9}, -- rifa 
	{2370.720703125, -1804.6097412109, 13.55456161499, 9}, -- rifa 
	{2294.7280273438, -1803.5588378906, 13.546875, 9}, -- rifa 
	{2262.759765625, -1885.8707275391, 13.546875, 9}, -- rifa 
	{2336.2319335938, -1876.390625, 12.453318595886, 9}, -- rifa 
	{2270.7573242188, -1925.8203125, 13.546875, 9}, -- rifa 
	{2244.4450683594, -2014.4990234375, 13.546875, 9}, -- rifa 20
	{1725.7708740234, -2133.2404785156, 13.554349899292, 10}, -- actec
	{1730.7322998047, -2066.6474609375, 13.612261772156, 10}, -- actec
	{1851.4482421875, -2150.5817871094, 13.546875, 10}, -- actec
	{2010.1550292969, -2148.0251464844, 19.834426879883, 10}, -- actec
	{2033.1461181641, -2089.0344238281, 13.546875, 10}, -- actec 5
	{1853.6334228516, -1977.6436767578, 13.546875, 10}, -- actec
	{1911.5780029297, -1976.3497314453, 13.546875, 10}, -- actec
	{1996.0289306641, -1965.013671875, 16.694116592407, 10}, -- actec
	{2064.0187988281, -2036.6424560547, 19.124439239502, 10}, -- actec
	{2124.2648925781, -1912.6898193359, 13.546875, 10}, -- actec 10
	{2050.6726074219, -1906.1945800781, 13.546875, 10}, -- actec
	{1955.6423339844, -1883.4849853516, 13.546875, 10}, -- actec
	{1945.7059326172, -1805.4000244141, 13.546875, 10}, -- actec
	{2003.5153808594, -1772.3881835938, 21.855812072754, 10}, -- actec
	{1895.4067382813, -1705.8991699219, 13.444204330444, 10}, -- actec 15
	{1974.8331298828, -1692.6160888672, 15.96875, 10}, -- actec
	{2042.1800537109, -1646.9924316406, 13.546875, 10}, -- actec
	{2039.9064941406, -1694.0384521484, 13.546875, 10}, -- actec
	{2114.3986816406, -1676.5596923828, 13.375453948975, 10}, -- actec 19
	{2165.5754394531, -1513.7467041016, 23.888221740723, 6}, -- grove
	{2602.1970214844, -1595.3195800781, 4.3544521331787, 6}, -- grove
	{2530.8793945313, -1560.8250732422, 22.892469406128, 6}, -- grove
	{2413.2824707031, -1552.2243652344, 31.494331359863, 6}, -- grove
	{2410.8020019531, -1680.431640625, 18.417337417603, 6}, -- grove 5
	{2324.4758300781, -1680.2193603516, 18.225421905518, 6}, -- grove
	{2314.4274902344, -1613.3724365234, 5.0019373893738, 6}, -- grove
	{2309.3818359375, -1534.6120605469, 25.34375, 6}, -- grove
	{2369.4885253906, -1497.6027832031, 31.497932434082, 6}, -- grove
	{2329.9838867188, -1432.5379638672, 24, 6}, -- grove 10
	{2361.3142089844, -1411.0343017578, 31.497936248779, 6}, -- grove
	{2345.3488769531, -1357.1033935547, 28.0859375, 6}, -- grove
	{2402.1013183594, -1328.4606933594, 28.387493133545, 6}, -- grove
	{2411.8322753906, -1299.3436279297, 24.621147155762, 6}, -- grove
	{2474.98828125, -1293.5958251953, 34.742206573486, 6}, -- grove 15
	{2532.4299316406, -1290.5570068359, 52.765625, 6}, -- grove
	{2506.8588867188, -1389.3706054688, 28.359375, 6}, -- grove
	{2592.1794433594, -1381.1452636719, 52.263072967529, 6}, -- grove
	{2616.2983398438, -1451.9202880859, 32.227561950684, 6}, -- grove
	{2540.2250976563, -1456.8309326172, 31.859680175781, 6} -- grove 20
}

function main()
	if not isSampfuncsLoaded() or not isSampLoaded() then return end
	while not isSampAvailable() do wait(100) end

	sampRegisterChatCommand("wipeghetto", cmdWipeGhetto)

	while(true) do
		wait(5000)
	end
end

function cmdWipeGhetto()
	lua_thread.create(function() 
		sampSendChat(string.format("/setvw %s", 3))
		wait(500)
		for i = 1, #positionTeleport do 
			setCharCoordinates(PLAYER_PED, positionTeleport[i][1], positionTeleport[i][2], positionTeleport[i][3])
			wait(1000)
			sampSendChat(string.format("/tempzone %s", positionTeleport[i][4]))
			sampAddChatMessage(string.format("Перекрашено территорий %s из %s", i, #positionTeleport), 0xffffff)
			wait(1000)
		end
		sampSendChat(string.format("/setvw %s", 0))
		wait(500)
		sampAddChatMessage(string.format("Покраска территорий завершена! Vagos, Ballas, Grove, Rifa по 20тер. Aztec - 19тер."), 0xffffff)
		
	end)
	
end